<% if @promo_code == 'Holiday25' %>
// Show dialog
$("#news_subscription-dialog").dialog({
	autoOpen: true,
	height: 400,
	width: 600,
	modal: true,
	title: "",
	buttons: {
	    "Close": function() { $("#news_subscription-dialog").dialog('close') <%= ";document.location = '#{@redirect_to}';" unless @redirect_to.blank? %> },
	},
	open: function() {
		$("#news_subscription-dialog").html("<%= escape_javascript(render('spree/shared/newsletter_subscription_dialog_special'))   %>")
	}
});

<% else %>
// Show dialog
$("#news_subscription-dialog").dialog({
	autoOpen: true,
	height: 300,
	width: 400,
	modal: true,
	title: "",
	buttons: {
	    "Close": function() { $("#news_subscription-dialog").dialog('close') <%= ";document.location = '#{@redirect_to}';" unless @redirect_to.blank? %> },
	},
	open: function() {
		$("#news_subscription-dialog").html("<%= @name.blank? ? escape_javascript(render('spree/shared/newsletter_subscription_dialog')) : escape_javascript(render('spree/shared/promo_code_sent_to_friend_dialog')) %>")
	}
});

<% end %>
$.fancybox.close();